---
title: "registro"
author: "Eva Gordo Calleja, Javier Pérez Clemente"
date: "March 1, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(caret)
library(dplyr)
library(Hmisc)
library(ggplot2)
library(VIM)

source('edaFunction.R')
```


```{r}
kc_house_data <- read_csv("data/kc_house_data.csv")
inTraining <- createDataPartition(pull(kc_house_data), p = .7, list = FALSE,times = 1)

house_training <- slice(kc_house_data, inTraining)
house_testing <- slice(kc_house_data, -inTraining)
```

## EDA

La variable bedrooms contiene un único valor extremadamente átipico de 33 que parece ser un error. Vamos a imputarlo por similaridad usando los 5 vecinos geográficamente más cercanos.

```{r}
eda(house_training)
```

```{r}
house_training$bedrooms <- house_training$bedrooms %>% na_if(33)
house_training <- kNN(house_training, variable = c("bedrooms"), dist_var = c("lat", "long"), k = 5)
summary(house_training$bedrooms)
```

